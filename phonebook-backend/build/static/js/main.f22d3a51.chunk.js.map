{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","handleDelete","name","number","onClick","id","Persons","persons","filter","toLowerCase","includes","map","PersonForm","newName","newNumber","handleNameChange","handleNumberChange","handleSubmit","onSubmit","value","onChange","type","Filter","baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","update","put","deletePerson","delete","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","setMessage","useEffect","initialPersons","event","target","preventDefault","newPerson","oldPerson","find","undefined","returnedPerson","concat","catch","error","window","confirm","console","log","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f22d3a51.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ person, handleDelete }) => {\r\n  return <p>{person.name} {person.number} <button onClick={() => handleDelete(person.id)}>delete</button></p>\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, filter, handleDelete }) => {\r\n  return (\r\n    <div>\r\n      {persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase())).map((person) => <Person person={person} handleDelete={handleDelete} key={person.id} />)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst PersonForm = ({ newName, newNumber, handleNameChange, handleNumberChange, handleSubmit }) => {\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n          number: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({ onChange, value }) => {\r\n  return (\r\n    <div>\r\n      filter shown with: <input value={value} onChange={onChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst personService = { \r\n  getAll,\r\n  create,\r\n  update,\r\n  deletePerson\r\n}\r\n\r\nexport default personService","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if(message[0] == null) {\r\n    return <></>\r\n  } else {\r\n    return (\r\n      <div>\r\n        <h1 className={message[0]}>{message[1]}</h1>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [message, setMessage] = useState([null, null])\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => setPersons(initialPersons))\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    const oldPerson = persons.find(person => person.name === newName)\n    if(oldPerson !== undefined) {\n      const replace = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n      if(replace) {\n        console.log(oldPerson.id)\n        personService\n          .update(oldPerson.id, newPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== oldPerson.id ? person : returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            setMessage(['success', `Modified ${newName}`])\n          })\n          .catch(error => {\n            setMessage(['error', error.response.data.error])\n            // setPersons(persons.filter(person => person.id !== oldPerson.id))\n          })\n      } else {\n        setNewName('')\n        setNewNumber('')\n      }\n      return\n    }\n    personService\n      .create(newPerson)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setMessage(['success', `Added ${newPerson.name}`])\n      })\n      .catch(error => {\n        setMessage(['error', error.response.data.error])\n      })\n  }\n\n  const handleDelete = (id) => {\n    setPersons(persons.filter(person => person.id !== id))\n    personService\n      .deletePerson(id)\n      .catch(error => {\n        console.log('unable to delete')\n      })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter onChange={handleFilterChange} value={newFilter} />\n      <h2>add a new</h2>\n      <PersonForm \n        newName={newName} \n        newNumber={newNumber} \n        handleNameChange={handleNameChange} \n        handleNumberChange={handleNumberChange} \n        handleSubmit={handleSubmit} \n      />\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={newFilter} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}